{
  "paper_id": "A_reinforcement_learning_approach_to_the_orienteering_proble",
  "title": "A REINFORCEMENT LEARNING APPROACH TO THE ORIENTEERING PROBLEM WITH TIME WINDOWS",
  "abstract": "The Orienteering Problem with Time Windows (OPTW) is a combinatorial optimization problem where the goal is to maximize the total score collected from different visited locations. The application of neural network models to combinatorial optimization has recently shown promising results in dealing with similar problems, like the Travelling Salesman Problem. A neural network allows learning solutions using reinforcement learning or supervised learning, depending on the available data. After the learning stage, it can be generalized and quickly fine-tuned to further improve performance and personalization. The advantages are evident since, for real-world applications, solution quality, personalization, and execution times are all important factors that should be taken into account. This study explores the use of Pointer Network models trained using reinforcement learning to solve the OPTW problem. We propose a modified architecture that leverages Pointer Networks to better address problems related with dynamic time-dependent constraints. Among its various applications, the OPTW can be used to model the Tourist Trip Design Problem (TTDP). We train the Pointer Network with the TTDP problem in mind, by sampling variables that can change across tourists visiting a particular instance-region: starting position, starting time, available time, and the scores given to each point of interest. Once a model-region is trained, it can infer a solution for a particular tourist using beam search. We based the assessment of our approach on several existing benchmark OPTW instances. We show that it generalizes across different tourists that visit each region and that it generally outperforms the most commonly used heuristic, while computing the solution in realistic times.",
  "problem_description_natural": "The Orienteering Problem with Time Windows (OPTW) involves selecting a route through a set of points of interest (nodes), each associated with a score, a time window during which it can be visited, and a required visit duration. The objective is to maximize the total collected score by visiting a subset of nodes, starting from a given location at or after a specified start time and ending at a designated endpoint before a global deadline. The route must respect both individual node time windows (i.e., visits must begin no earlier than the opening time and end no later than the closing time) and the overall time budget. This problem is particularly relevant in applications like the Tourist Trip Design Problem (TTDP), where a tourist aims to plan an optimal itinerary within limited time, considering attraction opening hours and personal preferences (scores).",
  "problem_type": "combinatorial optimization",
  "datasets": [
    "Solomon",
    "Cordeau",
    "Gavalas"
  ],
  "performance_metrics": [
    "Total Score",
    "Score Gap to ILS",
    "Score Gap to Best-Known",
    "Inference Time"
  ],
  "lp_model": {
    "objective": "$\\max \\sum_{i=1}^{n} r_i \\cdot y_i$",
    "constraints": [
      "$y_i \\in \\{0,1\\}, \\quad i = 1,\\dots,n$",
      "$\\sum_{j=2}^{n} x_{1j} = 1$",
      "$\\sum_{i=1}^{n-1} x_{in} = 1$",
      "$\\sum_{i=1}^{n} x_{ik} = y_k, \\quad k = 2,\\dots,n$",
      "$\\sum_{j=1}^{n} x_{kj} = y_k, \\quad k = 1,\\dots,n-1$",
      "$a_j + \\text{wait}_j \\leq c_j, \\quad \\forall j \\in \\{2,\\dots,n\\}$",
      "$a_j + \\text{wait}_j + d_j + \\Delta_{jn} \\leq T_{\\text{end}}, \\quad \\forall j \\in \\{2,\\dots,n\\}$",
      "$a_j \\geq 0, \\quad \\forall j \\in \\{1,\\dots,n\\}$",
      "$\\text{wait}_j = \\max(0, o_j - a_j), \\quad \\forall j \\in \\{1,\\dots,n\\}$",
      "$a_1 = T_{\\text{start}}$",
      "$a_j \\geq a_i + \\text{wait}_i + d_i + \\Delta_{ij} - M(1 - x_{ij}), \\quad \\forall i,j \\in \\{1,\\dots,n\\}, i \\neq j$"
    ],
    "variables": [
      "$y_i$: binary variable indicating if node $v_i$ is visited ($y_i=1$) or not ($y_i=0$).",
      "$x_{ij}$: binary variable indicating if the route goes directly from node $v_i$ to node $v_j$.",
      "$a_i$: continuous variable representing the arrival time at node $v_i$ (if visited).",
      "$\\text{wait}_i$: continuous variable representing the waiting time at node $v_i$ before the visit can start."
    ]
  },
  "raw_latex_model": "$$\\begin{aligned} \\text{maximize} \\quad & \\sum_{i=1}^{n} r_i \\cdot y_i \\\\ \\text{subject to} \\quad & y_i \\in \\{0,1\\}, \\quad i = 1,\\dots,n \\\\ & \\sum_{j=2}^{n} x_{1j} = 1 \\\\ & \\sum_{i=1}^{n-1} x_{in} = 1 \\\\ & \\sum_{i=1}^{n} x_{ik} = y_k, \\quad k = 2,\\dots,n \\\\ & \\sum_{j=1}^{n} x_{kj} = y_k, \\quad k = 1,\\dots,n-1 \\\\ & a_j + \\text{wait}_j \\leq c_j, \\quad \\forall j \\in \\{2,\\dots,n\\} \\\\ & a_j + \\text{wait}_j + d_j + \\Delta_{jn} \\leq T_{\\text{end}}, \\quad \\forall j \\in \\{2,\\dots,n\\} \\\\ & a_j \\geq 0, \\quad \\forall j \\in \\{1,\\dots,n\\} \\\\ & \\text{wait}_j = \\max(0, o_j - a_j), \\quad \\forall j \\in \\{1,\\dots,n\\} \\\\ & a_1 = T_{\\text{start}} \\\\ & a_j \\geq a_i + \\text{wait}_i + d_i + \\Delta_{ij} - M(1 - x_{ij}), \\quad \\forall i,j \\in \\{1,\\dots,n\\}, i \\neq j \\end{aligned}$$",
  "algorithm_description": "The paper uses a Pointer Network (a neural network with attention mechanisms) trained with reinforcement learning (REINFORCE algorithm) to solve the OPTW. The model sequentially selects nodes to visit, using a Transformer-based set encoder with recursion and graph-masked self-attention to handle dynamic time-dependent constraints. Inference is performed using beam search and active search."
}