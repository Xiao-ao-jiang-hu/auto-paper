{
  "paper_id": "Solving_Packing_Problems_by_Conditional_Query_Learning",
  "title": "SOLVING PACKING PROBLEMS BY CONDITIONAL QUERY LEARNING",
  "abstract": "Neural Combinatorial Optimization (NCO) has shown the potential to solve traditional NP-hard problems recently. Previous studies have shown that NCO outperforms heuristic algorithms in many combinatorial optimization problems such as the routing problems. However, it is less efficient for more complicated problems such as packing, one type of optimization problem that faces mutual conditioned action space. In this paper, we propose a Conditional Query Learning (CQL) method to handle the packing problem for both 2D and 3D settings. By embedding previous actions as a conditional query to the attention model, we design a fully end-to-end model and train it for 2D and 3D packing via reinforcement learning respectively. Through extensive experiments, the results show that our method could achieve lower bin gap ratio and variance for both 2D and 3D packing. Our model improves 7.2% space utilization ratio compared with genetic algorithm for 3D packing (30 boxes case), and reduces more than 10% bin gap ratio in almost every case compared with extant learning approaches. In addition, our model shows great scalability to packing box number. Furthermore, we provide a general test environment of 2D and 3D packing for learning algorithms. All source code of the model and the test environment is released.",
  "problem_description_natural": "The paper addresses the Bin Packing Problem (BPP), specifically the strip packing variant with rotations in both 2D and 3D settings. The goal is to pack a given set of rectangular boxes into a single bin with fixed base dimensions (rectangle in 2D, cube in 3D) while minimizing the final height of the packed binâ€”thereby maximizing space utilization. Each box must be assigned a selection order, a rotation (from six possible orientations in 3D), and a placement coordinate within the bin, such that no boxes overlap and all fit within the bin's footprint. These three decisions (box selection, rotation, and positioning) are mutually conditioned and sequential, making the action space complex and interdependent.",
  "problem_type": "combinatorial optimization",
  "datasets": [
    "Generated 2D Packing Dataset",
    "Generated 3D Packing Dataset"
  ],
  "performance_metrics": [
    "Bin Gap Ratio",
    "Variance of Bin Gap Ratio",
    "Space Utilization Ratio"
  ],
  "lp_model": {
    "objective": "$\\min \\widetilde{H}$",
    "constraints": [
      "$x_i + l_i X_{l_i} + w_i (Z_{l_i} - Y_{w_i} + Z_{h_i}) + h_i (1 - X_{l_i} - Z_{l_i} + Y_{w_i} - Z_{h_i}) \\leq x_j + M(1 - a_{ij}), \\quad i \\neq j$",
      "$y_i + w_i Y_{w_i} + l_i (1 - X_{l_i} - Z_{l_i}) + h_i (X_{l_i} + Z_{l_i} - Y_{w_i}) \\leq y_j + M(1 - b_{ij}), \\quad i \\neq j$",
      "$z_i + h_i Z_{h_i} + w_i (1 - Z_{l_i} - Z_{h_i}) + l_i Z_{l_i} \\leq z_j + M(1 - c_{ij}), \\quad i \\neq j$",
      "$x_i + l_i X_{l_i} + w_i (Z_{l_i} - Y_{w_i} + Z_{h_i}) + h_i (1 - X_{l_i} - Z_{l_i} + Y_{w_i} - Z_{h_i}) \\leq L$",
      "$y_i + w_i Y_{w_i} + l_i (1 - X_{l_i} - Z_{l_i}) + h_i (X_{l_i} + Z_{l_i} - Y_{w_i}) \\leq W$",
      "$z_i + h_i Z_{h_i} + w_i (1 - Z_{l_i} - Z_{h_i}) + l_i Z_{l_i} \\leq \\widetilde{H}$",
      "$a_{ij} + a_{ji} + b_{ij} + b_{ji} + c_{ij} + c_{ji} \\geq 1, \\quad i \\neq j$",
      "$X_{l_i} + Z_{l_i} \\leq 1$",
      "$Z_{l_i} + Z_{h_i} \\leq 1$",
      "$Z_{l_i} - Y_{w_i} = Z_{h_i} \\leq 1$",
      "$Z_{l_i} - Y_{w_i} + Z_{h_i} \\geq 0$",
      "$1 - X_{l_i} - Z_{l_i} + Y_{w_i} - Z_{h_i} \\leq 1$",
      "$1 - X_{l_i} - Z_{l_i} + Y_{w_i} - Z_{h_i} \\geq 0$",
      "$X_{l_i} + Z_{l_i} - Y_{w_i} \\leq 1$",
      "$X_{l_i} + Z_{l_i} - Y_{w_i} \\geq 0$"
    ],
    "variables": [
      "$\\widetilde{H}$: variable bin height to be minimized",
      "$(x_i, y_i, z_i)$: coordinates of box $i$'s left-bottom-behind corner",
      "$X_{l_i}, Z_{l_i}, Y_{w_i}, Z_{h_i}$: binary variables indicating the orientation of box $i$",
      "$a_{ij}, b_{ij}, c_{ij}$: binary variables defining the relative placement of box $i$ to box $j$"
    ]
  },
  "raw_latex_model": "The objective is to minimize the variable bin height $\\widetilde{H}$, that is $\\min \\widetilde{H}$ subject to the following set of constraints: $$x_i + l_i X_{l_i} + w_i (Z_{l_i} - Y_{w_i} + Z_{h_i}) + h_i (1 - X_{l_i} - Z_{l_i} + Y_{w_i} - Z_{h_i}) \\leq x_j + M(1 - a_{ij}), \\quad i \\neq j$$ $$y_i + w_i Y_{w_i} + l_i (1 - X_{l_i} - Z_{l_i}) + h_i (X_{l_i} + Z_{l_i} - Y_{w_i}) \\leq y_j + M(1 - b_{ij}), \\quad i \\neq j$$ $$z_i + h_i Z_{h_i} + w_i (1 - Z_{l_i} - Z_{h_i}) + l_i Z_{l_i} \\leq z_j + M(1 - c_{ij}), \\quad i \\neq j$$ $$x_i + l_i X_{l_i} + w_i (Z_{l_i} - Y_{w_i} + Z_{h_i}) + h_i (1 - X_{l_i} - Z_{l_i} + Y_{w_i} - Z_{h_i}) \\leq L$$ $$y_i + w_i Y_{w_i} + l_i (1 - X_{l_i} - Z_{l_i}) + h_i (X_{l_i} + Z_{l_i} - Y_{w_i}) \\leq W$$ $$z_i + h_i Z_{h_i} + w_i (1 - Z_{l_i} - Z_{h_i}) + l_i Z_{l_i} \\leq \\widetilde{H}$$ $$a_{ij} + a_{ji} + b_{ij} + b_{ji} + c_{ij} + c_{ji} \\geq 1, \\quad i \\neq j$$ $$X_{l_i} + Z_{l_i} \\leq 1$$ $$Z_{l_i} + Z_{h_i} \\leq 1$$ $$Z_{l_i} - Y_{w_i} = Z_{h_i} \\leq 1$$ $$Z_{l_i} - Y_{w_i} + Z_{h_i} \\geq 0$$ $$1 - X_{l_i} - Z_{l_i} + Y_{w_i} - Z_{h_i} \\leq 1$$ $$1 - X_{l_i} - Z_{l_i} + Y_{w_i} - Z_{h_i} \\geq 0$$ $$X_{l_i} + Z_{l_i} - Y_{w_i} \\leq 1$$ $$X_{l_i} + Z_{l_i} - Y_{w_i} \\geq 0$$",
  "algorithm_description": "Conditional Query Learning (CQL) model using attention mechanisms and reinforcement learning (actor-critic algorithm) to solve the packing problem by sequentially generating box selection, rotation, and position decisions in an end-to-end manner."
}